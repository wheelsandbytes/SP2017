<div class="bubble-wrap-tb-sm">
  <button data-ui-sref="app.createCustomer" class="btn btn-default btn-lg"> New Customer </button>
</div>

<form class="form-inline bubble-wrap-tb-sm">
  <div class="form-group">
    <input type="text" class="form-control input-lg" data-ng-model="searchText" placeholder="Search">
  </div>
  <!-- <button type="submit" class="btn btn-default btn-lg">Submit</button> -->
  <a href class="pull-right lead" data-ng-click="$ctrl.ascending=!$ctrl.ascending">
    Sort
    <span class="glyphicon glyphicon-sort-by-alphabet" aria-hidden="true" data-ng-if="$ctrl.ascending"></span>
    <span class="glyphicon glyphicon-sort-by-alphabet-alt" aria-hidden="true" data-ng-if="!$ctrl.ascending"></span>
  </a>
</form>

<div class="panel panel-default">
  <div class="panel-heading">
    <h3> Customers </h3>
  </div>
  <div class="panel-body">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th class="lead"> <b>Last</b> </th>
          <th class="lead"> <b>First</b> </th>
          <th class="lead"> <b>Phone</b> </th>
          <th class="lead"> <b>City</b> </th>
          <th> </th>
        </tr>
      </thead>
      <tbody>
        <!-- <tr data-ng-repeat="customer in $ctrl.customerList | orderBy: 'name' : $ctrl.ascending track by $index"> -->
        <tr data-ng-repeat="customer in $ctrl.customerList | filter:searchText | orderBy: 'name' : $ctrl.ascending track by $index">
          <td class="lead"> {{ customer.lastname }} </td>
          <td class="lead"> {{ customer.firstname }} </td>
          <td class="lead"> {{ customer.phonenumbers[customer.phonenumbers.length - 1] }} </td>
          <td class="lead"> {{ customer.addresses[customer.addresses.length - 1].city }} </td>
          <td>
            <button class="btn btn-default btn-lg" data-ng-click="$ctrl.selectCustomer(customer._id)"> View Customer </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
